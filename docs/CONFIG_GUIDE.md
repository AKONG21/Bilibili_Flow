# é…ç½®æ–‡ä»¶è¯´æ˜

## é…ç½®æ–‡ä»¶ç»“æ„

é¡¹ç›®ç°åœ¨ä½¿ç”¨å•ä¸€çš„ä¸»é…ç½®æ–‡ä»¶ï¼Œç®€åŒ–äº†é…ç½®ç®¡ç†ï¼š

```
Bilibili_Flow/
â”œâ”€â”€ daily_task_config.yaml     # ğŸ¯ ä¸»é…ç½®æ–‡ä»¶ï¼ˆå”¯ä¸€é…ç½®æ–‡ä»¶ï¼‰
â””â”€â”€ docs/
    â””â”€â”€ config_templates/       # ğŸ“„ é…ç½®æ¨¡æ¿ç›®å½•
        â”œâ”€â”€ daily_task_config_clean.yaml      # æ¸…æ´ç‰ˆé…ç½®æ¨¡æ¿
        â””â”€â”€ daily_task_config_multi_cookie.yaml # å¤šCookieé…ç½®æ¨¡æ¿
```

## ä¸»é…ç½®æ–‡ä»¶ï¼š`daily_task_config.yaml`

è¿™æ˜¯é¡¹ç›®çš„å”¯ä¸€é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«æ‰€æœ‰å¿…è¦çš„é…ç½®é¡¹ï¼š

### 1. ä»»åŠ¡é…ç½®
```yaml
daily_task:
  up_id: "1140672573"          # UPä¸»IDï¼ˆå¿…å¡«ï¼‰
  time_range:
    days: 28                   # é‡‡é›†å¤©æ•°ï¼ˆä»ä»Šå¤©å¾€å‰æ¨ç®—ï¼‰
```

### 2. å­—æ®µæ§åˆ¶
```yaml
  up_fields:                   # UPä¸»ä¿¡æ¯å­—æ®µ
    enabled: true
    mid: true                  # UPä¸»ID
    name: true                 # UPä¸»æ˜µç§°
    fans: true                 # ç²‰ä¸æ•°
    
  video_fields:                # è§†é¢‘ä¿¡æ¯å­—æ®µ
    enabled: true
    title: true                # è§†é¢‘æ ‡é¢˜
    stats_fields:
      enabled: true
      view: true               # æ’­æ”¾é‡
      like: true               # ç‚¹èµæ•°
```

### 3. å­˜å‚¨é…ç½®
```yaml
storage:
  # å­˜å‚¨è·¯å¾„å·²è‡ªåŠ¨åˆ†ç±»ï¼š
  # - æ—¥ä»»åŠ¡ï¼šdata/daily/{å¹´}-W{å‘¨æ•°}/
  # - æœˆä»»åŠ¡ï¼šdata/monthly/
  compress: false
```

### 4. Cookieç®¡ç†
```yaml
login:
  cookies:
    raw_cookie: ""             # å•ä¸ªCookieï¼ˆå‘åå…¼å®¹ï¼‰
    cookie_pool:               # Cookieæ± ï¼ˆæ¨èï¼‰
      enabled: true
      selection_mode: random
      cookies: []              # æ‰«ç ç™»å½•åè‡ªåŠ¨æ·»åŠ 
```

## é…ç½®æ¨¡æ¿

### æ¸…æ´ç‰ˆæ¨¡æ¿ï¼š`docs/config_templates/daily_task_config_clean.yaml`
- é€‚åˆæ–°ç”¨æˆ·
- åŒ…å«è¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Š
- æ‰€æœ‰Cookieé…ç½®ä¸ºç©ºï¼Œéœ€è¦æ‰«ç ç™»å½•

### å¤šCookieæ¨¡æ¿ï¼š`docs/config_templates/daily_task_config_multi_cookie.yaml`
- é€‚åˆé«˜çº§ç”¨æˆ·
- å±•ç¤ºå¤šè´¦å·Cookieé…ç½®ç¤ºä¾‹
- åŒ…å«å®Œæ•´çš„Cookieæ± é…ç½®

## ä½¿ç”¨æ–¹æ³•

### 1. é¦–æ¬¡ä½¿ç”¨
```bash
# ç›´æ¥è¿è¡Œï¼Œç¨‹åºä¼šä½¿ç”¨é»˜è®¤é…ç½®æ–‡ä»¶
python main.py

# æˆ–ä½¿ç”¨åŸæœ‰å…¥å£
python run_daily_task.py
```

### 2. ä½¿ç”¨æ¨¡æ¿
```bash
# å¤åˆ¶æ¸…æ´ç‰ˆæ¨¡æ¿ä½œä¸ºæ–°é…ç½®
cp docs/config_templates/daily_task_config_clean.yaml my_config.yaml

# ä½¿ç”¨è‡ªå®šä¹‰é…ç½®æ–‡ä»¶
python main.py --config my_config.yaml
```

### 3. Cookieç®¡ç†
```bash
# ä½¿ç”¨Cookieç®¡ç†å·¥å…·
python tools/cookie_manager_tool.py

# ç›‘æ§Cookieæ± çŠ¶æ€
python tools/cookie_pool_monitor.py
```

## é…ç½®ä¼˜å…ˆçº§

1. **å‘½ä»¤è¡Œå‚æ•°**ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
2. **ç¯å¢ƒå˜é‡**
3. **é…ç½®æ–‡ä»¶**
4. **é»˜è®¤å€¼**ï¼ˆæœ€ä½ä¼˜å…ˆçº§ï¼‰

## å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆåªæœ‰ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Ÿ
A: ä¸ºäº†ç®€åŒ–é…ç½®ç®¡ç†ï¼Œé¿å…ç”¨æˆ·å›°æƒ‘ã€‚æ‰€æœ‰åŠŸèƒ½éƒ½é›†ä¸­åœ¨ `daily_task_config.yaml` ä¸­ã€‚

### Q: å¦‚ä½•ä½¿ç”¨ä¸åŒçš„é…ç½®ï¼Ÿ
A: å¯ä»¥å¤åˆ¶æ¨¡æ¿æ–‡ä»¶åˆ›å»ºæ–°çš„é…ç½®æ–‡ä»¶ï¼Œç„¶åä½¿ç”¨ `--config` å‚æ•°æŒ‡å®šã€‚

### Q: Cookieé…ç½®åœ¨å“ªé‡Œï¼Ÿ
A: Cookieé…ç½®åœ¨ä¸»é…ç½®æ–‡ä»¶çš„ `login` éƒ¨åˆ†ï¼Œæ”¯æŒå•ä¸ªCookieå’ŒCookieæ± ä¸¤ç§æ–¹å¼ã€‚

### Q: å­˜å‚¨è·¯å¾„å¦‚ä½•é…ç½®ï¼Ÿ
A: å­˜å‚¨è·¯å¾„å·²è‡ªåŠ¨åˆ†ç±»ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ï¼š
- æ—¥ä»»åŠ¡ï¼š`data/daily/{å¹´}-W{å‘¨æ•°}/`
- æœˆä»»åŠ¡ï¼š`data/monthly/`

## è¿ç§»æŒ‡å—

å¦‚æœæ‚¨ä¹‹å‰ä½¿ç”¨äº†å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œç°åœ¨åªéœ€è¦ï¼š

1. **ä¿ç•™** `daily_task_config.yaml` ä½œä¸ºä¸»é…ç½®æ–‡ä»¶
2. **åˆ é™¤** å…¶ä»–é‡å¤çš„é…ç½®æ–‡ä»¶
3. **å‚è€ƒ** `docs/config_templates/` ä¸­çš„æ¨¡æ¿è¿›è¡Œé…ç½®

æ‰€æœ‰åŠŸèƒ½éƒ½å·²æ•´åˆåˆ°å•ä¸€é…ç½®æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨æ›´åŠ ç®€å•ï¼
