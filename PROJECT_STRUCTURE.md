# é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„

```
Bilibili_Flow/
â”œâ”€â”€ ğŸ“„ ä¸»è„šæœ¬ (æ ¹ç›®å½•)
â”‚   â”œâ”€â”€ main.py                          # ä¸»å…¥å£è„šæœ¬
â”‚   â”œâ”€â”€ quick_start.py                   # å¿«é€Ÿå¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ run_daily_task.py               # æ—¥ä»»åŠ¡ä¸»è„šæœ¬
â”‚   â”œâ”€â”€ run_monthly_task_enhanced.py    # æœˆä»»åŠ¡ä¸»è„šæœ¬
â”‚   â””â”€â”€ init_database.py                # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”‚
â”œâ”€â”€ ğŸ“ bilibili_core/                   # æ ¸å¿ƒæ¨¡å—ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“ processors/                  # ä»»åŠ¡å¤„ç†å™¨
â”‚   â”‚   â””â”€â”€ daily_task_processor.py     # æ—¥ä»»åŠ¡å¤„ç†å™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ scripts/                     # è¾…åŠ©è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ debug_monthly_task.py       # æœˆä»»åŠ¡è°ƒè¯•è„šæœ¬
â”‚   â”‚   â””â”€â”€ test_network.py             # ç½‘ç»œæµ‹è¯•è„šæœ¬
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ storage/                     # å­˜å‚¨æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ enhanced_storage.py         # å¢å¼ºå­˜å‚¨æ¶æ„
â”‚   â”‚   â”œâ”€â”€ parent_child_storage.py     # çˆ¶å­å…³ç³»å­˜å‚¨
â”‚   â”‚   â”œâ”€â”€ database_manager.py         # æ•°æ®åº“ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ database_schema.py          # æ•°æ®åº“æ¶æ„
â”‚   â”‚   â”œâ”€â”€ bilibili_store_impl.py      # å­˜å‚¨å®ç°
â”‚   â”‚   â””â”€â”€ bilibili_store_sql.py       # SQLå­˜å‚¨
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ client/                      # Bç«™å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ bilibili_client.py          # Bç«™APIå®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ wbi_signature.py            # WBIç­¾å
â”‚   â”‚   â””â”€â”€ exceptions.py               # å¼‚å¸¸å®šä¹‰
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ cookie_management/           # Cookieç®¡ç†
â”‚   â”‚   â”œâ”€â”€ enhanced_cookie_manager.py  # å¢å¼ºCookieç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ smart_cookie_pool.py        # æ™ºèƒ½Cookieæ± 
â”‚   â”‚   â””â”€â”€ auto_cookie_manager.py      # è‡ªåŠ¨Cookieç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ config/                      # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ config_manager.py           # é…ç½®ç®¡ç†å™¨
â”‚   â”‚   â””â”€â”€ bilibili_config.py          # Bç«™é…ç½®
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ utils/                       # å·¥å…·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ logger.py                   # æ—¥å¿—å·¥å…·
â”‚   â”‚   â”œâ”€â”€ time_utils.py               # æ—¶é—´å·¥å…·
â”‚   â”‚   â”œâ”€â”€ cookie_utils.py             # Cookieå·¥å…·
â”‚   â”‚   â””â”€â”€ login_helper.py             # ç™»å½•åŠ©æ‰‹
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ tools/                       # ç®¡ç†å·¥å…·
â”‚       â”œâ”€â”€ cookie_manager_tool.py      # Cookieç®¡ç†å·¥å…·
â”‚       â””â”€â”€ cookie_pool_monitor.py      # Cookieæ± ç›‘æ§
â”‚
â”œâ”€â”€ ğŸ“ data/                            # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ database/                       # æ•°æ®åº“æ–‡ä»¶
â”‚   â”œâ”€â”€ daily/                          # æ—¥ä»»åŠ¡æ•°æ®
â”‚   â”œâ”€â”€ monthly/                        # æœˆä»»åŠ¡æ•°æ®
â”‚   â””â”€â”€ cache/                          # ç¼“å­˜æ•°æ®
â”‚
â”œâ”€â”€ ğŸ“ cookies/                         # Cookieå­˜å‚¨
â”‚   â””â”€â”€ backup_cookies/                 # Cookieå¤‡ä»½
â”‚
â”œâ”€â”€ ğŸ“ logs/                            # æ—¥å¿—æ–‡ä»¶
â””â”€â”€ ğŸ“ tests/                           # æµ‹è¯•æ–‡ä»¶
```

## ğŸ¯ ä¸»è¦æ”¹è¿›

### âœ… å·²å®Œæˆçš„é‡ç»„ï¼š
1. **æ¸…ç†å†—ä½™æ–‡ä»¶** - åˆ é™¤äº†é‡å¤çš„è¯´æ˜æ–‡æ¡£
2. **æ¨¡å—åŒ–ç»„ç»‡** - å°†éä¸»è„šæœ¬ç§»åŠ¨åˆ° bilibili_core ç›®å½•
3. **è·¯å¾„æ›´æ–°** - åŒå‘æ›´æ–°äº†æ‰€æœ‰è°ƒç”¨è·¯å¾„
4. **ç»“æ„ä¼˜åŒ–** - æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡ä»£ç 

### ğŸ“‹ æ–‡ä»¶åˆ†ç±»ï¼š

#### **ä¸»è„šæœ¬ï¼ˆæ ¹ç›®å½•ï¼‰ï¼š**
- ç”¨æˆ·ç›´æ¥è¿è¡Œçš„è„šæœ¬
- é¡¹ç›®å…¥å£ç‚¹
- æ•°æ®åº“åˆå§‹åŒ–

#### **æ ¸å¿ƒæ¨¡å—ï¼ˆbilibili_coreï¼‰ï¼š**
- **processors/** - ä»»åŠ¡å¤„ç†é€»è¾‘
- **storage/** - æ•°æ®å­˜å‚¨æ¶æ„
- **client/** - Bç«™APIå®¢æˆ·ç«¯
- **cookie_management/** - Cookieç®¡ç†
- **config/** - é…ç½®ç®¡ç†
- **utils/** - é€šç”¨å·¥å…·
- **tools/** - ç®¡ç†å·¥å…·
- **scripts/** - è¾…åŠ©è„šæœ¬

## ğŸš€ ä½¿ç”¨æ–¹å¼

### è¿è¡Œä¸»è„šæœ¬ï¼š
```bash
# æ—¥ä»»åŠ¡
python run_daily_task.py

# æœˆä»»åŠ¡
python run_monthly_task_enhanced.py

# å¿«é€Ÿå¯åŠ¨
python quick_start.py

# æ•°æ®åº“åˆå§‹åŒ–
python init_database.py
```

### ä½¿ç”¨æ ¸å¿ƒæ¨¡å—ï¼š
```python
from bilibili_core.processors.daily_task_processor import DailyTaskProcessor
from bilibili_core.storage.enhanced_storage import EnhancedStorage
```

## ğŸ“Š é¡¹ç›®ç‰¹ç‚¹

- **æ¨¡å—åŒ–è®¾è®¡** - æ¸…æ™°çš„åŠŸèƒ½åˆ†ç¦»
- **è·¯å¾„ä¸€è‡´æ€§** - ç»Ÿä¸€çš„å¯¼å…¥è·¯å¾„
- **æ˜“äºç»´æŠ¤** - ç»“æ„åŒ–çš„ä»£ç ç»„ç»‡
- **åŠŸèƒ½å®Œæ•´** - ä¿ç•™æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½
