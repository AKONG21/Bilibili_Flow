# ğŸš€ Bç«™æ•°æ®é‡‡é›†é…ç½®æ–‡ä»¶
# æ”¯æŒæ—¥ä»»åŠ¡ã€æœˆä»»åŠ¡ç­‰ä¸åŒç±»å‹çš„æ•°æ®é‡‡é›†ä»»åŠ¡
# æ”¯æŒå¤šè´¦å·Cookieç®¡ç†ã€æ™ºèƒ½è¿‡æœŸæ£€æµ‹ã€è‡ªåŠ¨æ•…éšœåˆ‡æ¢

# ğŸ“‹ ä»»åŠ¡ç±»å‹é…ç½®
task_config:
  # ğŸ¯ UPä¸»IDï¼ˆå¿…å¡«ï¼‰
  up_id: "1140672573"

  # ğŸ“… æ—¥ä»»åŠ¡é…ç½®ï¼ˆä¸€å¤©ä¸¤æ¬¡ï¼š8ç‚¹å’Œ20ç‚¹ï¼‰
  daily_task:
    enabled: true
    # â° æ—¶é—´èŒƒå›´é…ç½®
    time_range:
      # é‡‡é›†å¤©æ•°ï¼ˆä»ä»Šå¤©å¾€å‰æ¨ç®—ï¼‰
      days: 28
      # æˆ–è€…æŒ‡å®šå…·ä½“æ—¥æœŸèŒƒå›´ï¼ˆä¼˜å…ˆçº§é«˜äºdaysï¼‰
      # start_date: "2025-06-28"  # æ ¼å¼ï¼šYYYY-MM-DD
      # end_date: "2025-07-26"    # æ ¼å¼ï¼šYYYY-MM-DD

    # ğŸ“„ æ–‡ä»¶å‘½åï¼ˆå·²è‡ªåŠ¨è®¾ç½®ä¸ºï¼šdaily_task_{timestamp}_{up_id}.jsonï¼‰

    # ğŸ‘¤ UPä¸»ä¿¡æ¯å­—æ®µæ§åˆ¶ï¼ˆåªåœ¨å¼€å¤´å‡ºç°ä¸€æ¬¡ï¼‰
    up_fields:
      enabled: true          # ğŸ”§ æ˜¯å¦æ”¶é›†UPä¸»ä¿¡æ¯
      mid: true              # UPä¸»ID
      name: true             # UPä¸»æ˜µç§°
      fans: true             # ç²‰ä¸æ•°
      up_video_count: true   # è§†é¢‘æ€»æ•°
      sign: false            # ä¸ªäººç­¾å
      level: false           # ç­‰çº§
      official_verify: false # è®¤è¯ä¿¡æ¯

    # ğŸ¬ è§†é¢‘ä¿¡æ¯å­—æ®µæ§åˆ¶ï¼ˆæ¯ä¸ªè§†é¢‘çš„å­—æ®µï¼‰
    video_fields:
      enabled: true          # ğŸ”§ æ˜¯å¦æ”¶é›†è§†é¢‘ä¿¡æ¯
      # åŸºç¡€è§†é¢‘ä¿¡æ¯
      aid: true              # è§†é¢‘AVå·
      bvid: false            # è§†é¢‘BVå·
      title: true            # è§†é¢‘æ ‡é¢˜
      description: true      # è§†é¢‘æè¿°
      cover_url: false        # å°é¢URL
      video_url: true        # è§†é¢‘é“¾æ¥
      duration: true         # è§†é¢‘æ—¶é•¿ï¼ˆè‡ªåŠ¨æ ¼å¼åŒ–ä¸º HH:MM:SSï¼‰
      category: true         # åˆ†åŒºåç§°
      publish_time: true     # å‘å¸ƒæ—¶é—´ï¼ˆè‡ªåŠ¨æ ¼å¼åŒ–ä¸ºISOæ ¼å¼ï¼‰

      # ğŸ“Š ç»Ÿè®¡æ•°æ®å­—æ®µ
      stats_fields:
        enabled: true        # ğŸ”§ æ˜¯å¦æ”¶é›†ç»Ÿè®¡æ•°æ®
        view: true           # æ’­æ”¾é‡
        like: true           # ç‚¹èµæ•°
        coin: true           # æŠ•å¸æ•°
        favorite: true       # æ”¶è—æ•°
        share: true          # åˆ†äº«æ•°
        reply: true          # è¯„è®ºæ•°
        danmaku: true        # å¼¹å¹•æ•°

    # ğŸ’¬ çƒ­é—¨è¯„è®ºé…ç½®
    hot_comments_json:
      enabled: true          # ğŸ”§ æ˜¯å¦ç”Ÿæˆçƒ­é—¨è¯„è®ºJSON
      max_count: 10          # æœ€å¤š10æ¡çƒ­è¯„
      fields:                # JSONä¸­åŒ…å«çš„å­—æ®µ
        - "message"          # è¯„è®ºå†…å®¹
        - "mid"              # è¯„è®ºè€…ID
        - "ctime"            # è¯„è®ºæ—¶é—´ï¼ˆè‡ªåŠ¨æ ¼å¼åŒ–ä¸ºISOæ ¼å¼ï¼‰
        - "like"             # ç‚¹èµæ•°
        - "rcount"           # å›å¤æ•°

  # ğŸ“… æœˆä»»åŠ¡é…ç½®ï¼ˆæ¯å››å‘¨æ‰§è¡Œä¸€æ¬¡ï¼‰
  monthly_task:
    enabled: true
    # â° æ—¶é—´èŒƒå›´é…ç½®
    time_range:
      # è·å–å…¨é‡è§†é¢‘ï¼Œç„¶åç­›é€‰å‰28å¤©
      get_all_videos: true
      filter_days: 28  # ä»å…¨é‡ä¸­ç­›é€‰å‰28å¤©


    # ğŸ‘¤ UPä¸»ä¿¡æ¯å­—æ®µæ§åˆ¶ï¼ˆæœˆä»»åŠ¡é‡‡é›†æ›´å®Œæ•´ä¿¡æ¯ï¼‰
    up_fields:
      enabled: true          # ğŸ”§ æ˜¯å¦æ”¶é›†UPä¸»ä¿¡æ¯
      mid: true              # UPä¸»ID
      name: true             # UPä¸»æ˜µç§°
      fans: true             # ç²‰ä¸æ•°
      up_video_count: true   # è§†é¢‘æ€»æ•°
      sign: false             # ä¸ªäººç­¾åï¼ˆæœˆä»»åŠ¡é¢å¤–é‡‡é›†ï¼‰
      level: false            # ç­‰çº§ï¼ˆæœˆä»»åŠ¡é¢å¤–é‡‡é›†ï¼‰
      official_verify: false  # è®¤è¯ä¿¡æ¯ï¼ˆæœˆä»»åŠ¡é¢å¤–é‡‡é›†ï¼‰

    # ğŸ¬ è§†é¢‘ä¿¡æ¯å­—æ®µæ§åˆ¶ï¼ˆæœˆä»»åŠ¡é‡‡é›†å®Œæ•´ä¿¡æ¯ï¼‰
    video_fields:
      enabled: true          # ğŸ”§ æ˜¯å¦æ”¶é›†è§†é¢‘ä¿¡æ¯
      # åŸºç¡€è§†é¢‘ä¿¡æ¯
      aid: true              # è§†é¢‘AVå·
      bvid: true             # è§†é¢‘BVå·ï¼ˆæœˆä»»åŠ¡é¢å¤–é‡‡é›†ï¼‰
      title: true            # è§†é¢‘æ ‡é¢˜
      description: true      # è§†é¢‘æè¿°
      cover_url: true        # å°é¢URL
      video_url: true        # è§†é¢‘é“¾æ¥
      duration: true         # è§†é¢‘æ—¶é•¿ï¼ˆè‡ªåŠ¨æ ¼å¼åŒ–ä¸º HH:MM:SSï¼‰
      category: true         # åˆ†åŒºåç§°
      publish_time: true     # å‘å¸ƒæ—¶é—´ï¼ˆè‡ªåŠ¨æ ¼å¼åŒ–ä¸ºISOæ ¼å¼ï¼‰

      # ğŸ“Š ç»Ÿè®¡æ•°æ®å­—æ®µ
      stats_fields:
        enabled: true        # ğŸ”§ æ˜¯å¦æ”¶é›†ç»Ÿè®¡æ•°æ®
        view: true           # æ’­æ”¾é‡
        like: true           # ç‚¹èµæ•°
        coin: true           # æŠ•å¸æ•°
        favorite: true       # æ”¶è—æ•°
        share: true          # åˆ†äº«æ•°
        reply: true          # è¯„è®ºæ•°
        danmaku: true        # å¼¹å¹•æ•°

    # ğŸ’¬ çƒ­é—¨è¯„è®ºé…ç½®
    hot_comments_json:
      enabled: false          # ğŸ”§ æ˜¯å¦ç”Ÿæˆçƒ­é—¨è¯„è®ºJSON
      max_count: 10          # æœ€å¤š10æ¡çƒ­è¯„
      fields:                # JSONä¸­åŒ…å«çš„å­—æ®µ
        - "message"          # è¯„è®ºå†…å®¹
        - "mid"              # è¯„è®ºè€…ID
        - "ctime"            # è¯„è®ºæ—¶é—´ï¼ˆè‡ªåŠ¨æ ¼å¼åŒ–ä¸ºISOæ ¼å¼ï¼‰
        - "like"             # ç‚¹èµæ•°
        - "rcount"           # å›å¤æ•°

# âš™ï¸ ç³»ç»Ÿé…ç½®
system:
  # ğŸ“ æ—¥å¿—çº§åˆ«ï¼šDEBUG, INFO, WARNING, ERROR
  log_level: "INFO"
  
  # â±ï¸ è¯·æ±‚å»¶æ—¶ï¼ˆç§’ï¼Œé¿å…è¯·æ±‚è¿‡é¢‘ï¼‰
  request_delay: 2
  
  # ğŸ”„ é‡è¯•é…ç½®
  retry:
    max_attempts: 3        # æœ€å¤§é‡è¯•æ¬¡æ•°
    delay_between_retries: 5  # é‡è¯•é—´éš”ï¼ˆç§’ï¼‰
  
  # ğŸŒ æµè§ˆå™¨é…ç½®
  browser:
    headless: false        # æ˜¯å¦æ— å¤´æ¨¡å¼ï¼ˆæœ‰Cookieæ—¶è‡ªåŠ¨åˆ‡æ¢ä¸ºtrueï¼‰
    timeout: 30            # é¡µé¢è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
    user_agent: "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"

# ğŸ’¾ å­˜å‚¨é…ç½®
storage:
  # ğŸ“ æ•°æ®å­˜å‚¨ç›®å½•ï¼ˆå·²è‡ªåŠ¨åˆ†ç±»ï¼šæ—¥ä»»åŠ¡å­˜å‚¨åˆ°data/daily/å‘¨æ–‡ä»¶å¤¹ï¼Œæœˆä»»åŠ¡å­˜å‚¨åˆ°data/monthlyï¼‰
  # æ­¤é…ç½®é¡¹å·²åºŸå¼ƒï¼Œå­˜å‚¨è·¯å¾„ç”±ä»»åŠ¡ç±»å‹è‡ªåŠ¨å†³å®š
  # data_dir: "data"

  # ğŸ“„ æ–‡ä»¶å‘½åå’Œå­˜å‚¨è·¯å¾„ï¼ˆå·²è‡ªåŠ¨è®¾ç½®ï¼Œæ— éœ€é…ç½®ï¼‰
  # æ—¥ä»»åŠ¡ï¼šå­˜å‚¨åˆ° data/daily/{å¹´}-W{å‘¨æ•°}/ ç›®å½•ï¼Œæ–‡ä»¶åï¼šdaily_task_{timestamp}_{up_id}.json
  # æœˆä»»åŠ¡ï¼šå­˜å‚¨åˆ° data/monthly/ ç›®å½•ï¼Œæ–‡ä»¶åï¼šmonthly_task_{timestamp}_{up_id}.json

  # ğŸ—œï¸ æ•°æ®å‹ç¼©
  compress: false

# ğŸª ç™»å½•å’ŒCookieç®¡ç†é…ç½®
login:
  # ğŸª å¤šè´¦å·Cookieç®¡ç†é…ç½®
  cookies:
    # ğŸ“ å•ä¸ªCookieå­—ç¬¦ä¸²ï¼ˆå‘åå…¼å®¹ï¼Œä¼˜å…ˆçº§è¾ƒä½ï¼‰
    # æ ¼å¼ï¼šSESSDATA=xxx; bili_jct=xxx; DedeUserID=xxx; DedeUserID__ckMd5=xxx
    raw_cookie: ""
    
    # ğŸ¯ å¤šè´¦å·Cookieæ± ï¼ˆæ¨èä½¿ç”¨ï¼Œæ”¯æŒè‡ªåŠ¨è½®æ¢å’Œæ•…éšœåˆ‡æ¢ï¼‰
    cookie_pool:
      enabled: true
      selection_mode: random
      cookies:
        - name: scan_0727_1156
          cookie: SESSDATA=af85e5e6%2C1769140577%2C7f2d7%2A71CjBDiyHcX0Zv2s1U38j1aJeA0CRJhJrgkd7t_yK-lnlsN_izlTqgO3i62RTp8WFvqIASVkpzNWlFaVNSeGJ3YUt1RVgzVVFaMTktcG94ZUMxaVdHUTVEaGJ0YlZxZWx6TkdENjBTU0pyeUZzRHp0YVItbldnaEtGcDdmUEZQMk5TVFVOdVdEVDRBIIEC; bili_jct=8ddcc1c1c027458c1eb8829b65a68e26; DedeUserID=173534909; DedeUserID__ckMd5=8e4a65ec54c18a89; sid=qfwwycab
          priority: 1
          enabled: true
          last_used: ''
          failure_count: 0
          max_failures: 3
      selection_mode: random
      cookies:
        - name: scan_0726_0536
          cookie: SESSDATA=4c7d2a5e%2C1769030963%2C05e69%2A72CjCRR1SJtHVR6vRLXJ9b18f-rCMTUh0HJtlxHskpK37gfeE7IZSbawOg8O5bGTMNIOwSVnhJSXVlUnY0RUlzOU5ZdTRBY3BVdWJhMFZkR3AzSlQzbWZaM2tYcDFJZHJuUjlQMURPRTNyamgybS1JaVBJM2lURVNwYUVEM2ZtTXFGdWp1QXFRNWRnIIEC; bili_jct=4d19a30f61e2119432d744abd0ddd112; DedeUserID=173534909; DedeUserID__ckMd5=8e4a65ec54c18a89; sid=n351pbl2
          priority: 1
          enabled: true
          last_used: ''
          failure_count: 0
          max_failures: 3
      selection_mode: "random"
      
      # ğŸ“‹ Cookieè´¦å·åˆ—è¡¨ï¼ˆæ‰«ç ç™»å½•åè‡ªåŠ¨æ·»åŠ ï¼Œæœ€å¤šæ”¯æŒ5ä¸ªè´¦å·ï¼‰
      cookies: []
        # ğŸ” Cookieç»“æ„è¯´æ˜ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼Œæ— éœ€æ‰‹åŠ¨ç¼–è¾‘ï¼‰ï¼š
        # - name: "scan_0726_1234"        # è´¦å·åç§°ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼šscan_æœˆæ—¥_æ—¶åˆ†ï¼‰
        # - cookie: "SESSDATA=xxx; ..."   # å®Œæ•´Cookieå­—ç¬¦ä¸²ï¼ˆæ‰«ç åè‡ªåŠ¨æå–ï¼‰
        # - priority: 1                   # ä¼˜å…ˆçº§ï¼ˆæ•°å­—è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ï¼‰
        # - enabled: true                 # æ˜¯å¦å¯ç”¨ï¼ˆå¤±è´¥è¿‡å¤šè‡ªåŠ¨ç¦ç”¨ï¼‰
        # - last_used: ""                 # æœ€åä½¿ç”¨æ—¶é—´ï¼ˆè‡ªåŠ¨æ›´æ–°ï¼‰
        # - failure_count: 0              # å¤±è´¥æ¬¡æ•°ï¼ˆè‡ªåŠ¨ç»Ÿè®¡ï¼‰
        # - max_failures: 3               # æœ€å¤§å¤±è´¥æ¬¡æ•°ï¼ˆè¶…è¿‡åè‡ªåŠ¨ç¦ç”¨ï¼‰
  
  # ğŸ§  æ™ºèƒ½è¿‡æœŸæ£€æµ‹é…ç½®
  smart_expiry_detection:
    enabled: true           # ğŸ”§ æ˜¯å¦å¯ç”¨æ™ºèƒ½æ£€æµ‹
    check_interval_hours: 6 # â° æ£€æŸ¥é—´éš”ï¼ˆå°æ—¶ï¼‰
    auto_switch_on_failure: true  # ğŸ”„ å¤±è´¥æ—¶è‡ªåŠ¨åˆ‡æ¢Cookie
    auto_disable_failed: true     # ğŸš« è‡ªåŠ¨ç¦ç”¨å¤±è´¥çš„Cookie
    health_check_endpoints:       # ğŸ¥ å¥åº·æ£€æŸ¥ç«¯ç‚¹
      - "https://api.bilibili.com/x/web-interface/nav"
      - "https://api.bilibili.com/x/space/myinfo"
  
  # ğŸ“‚ å¤‡ç”¨Cookieå­˜å‚¨ç›®å½•
  backup_cookies_dir: "cookies/backup_cookies"
  
  # â° Cookieè¿‡æœŸæ£€æŸ¥é—´éš”ï¼ˆå°æ—¶ï¼‰- å‘åå…¼å®¹
  cookie_check_interval: 24
  
  # ğŸ” è‡ªåŠ¨ç™»å½•é…ç½®
  auto_login:
    enabled: true          # ğŸ”§ æ˜¯å¦å¯ç”¨è‡ªåŠ¨ç™»å½•
    timeout: 300           # â±ï¸ ç™»å½•è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰

# ğŸ“– ä½¿ç”¨è¯´æ˜ï¼š
# 1. ğŸš€ é¦–æ¬¡è¿è¡Œï¼šç›´æ¥è¿è¡Œ python run_daily_task.py
# 2. ğŸ“± æ‰«ç ç™»å½•ï¼šç¨‹åºä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼Œæ‰«ç å®Œæˆç™»å½•
# 3. ğŸª è‡ªåŠ¨ä¿å­˜ï¼šCookieä¼šè‡ªåŠ¨ä¿å­˜åˆ°é…ç½®æ–‡ä»¶å’Œå¤‡ä»½ç›®å½•
# 4. ğŸ”„ åç»­è¿è¡Œï¼šç¨‹åºä¼šè‡ªåŠ¨ä½¿ç”¨ä¿å­˜çš„Cookieï¼Œæ— éœ€é‡æ–°ç™»å½•
# 5. ğŸ› ï¸ Cookieç®¡ç†ï¼šä½¿ç”¨ python cookie_manager_tool.py ç®¡ç†Cookie
# 6. ğŸ“Š çŠ¶æ€ç›‘æ§ï¼šæ¯æ¬¡è¿è¡Œæ—¶ä¼šæ˜¾ç¤ºCookieçŠ¶æ€å’Œæ•°é‡æé†’
# 7. ğŸ§¹ è‡ªåŠ¨æ¸…ç†ï¼šè¿‡æœŸCookieå’Œå¤‡ä»½æ–‡ä»¶ä¼šè‡ªåŠ¨æ¸…ç†

# ğŸ’¡ é«˜çº§åŠŸèƒ½ï¼š
# - å¤šè´¦å·è½®æ¢ï¼šæ”¯æŒæœ€å¤š5ä¸ªè´¦å·è‡ªåŠ¨è½®æ¢ä½¿ç”¨
# - æ™ºèƒ½æ•…éšœåˆ‡æ¢ï¼šCookieå¤±æ•ˆæ—¶è‡ªåŠ¨åˆ‡æ¢åˆ°å…¶ä»–å¯ç”¨è´¦å·
# - è¿‡æœŸè‡ªåŠ¨æ£€æµ‹ï¼šå®šæœŸæ£€æŸ¥Cookieæœ‰æ•ˆæ€§ï¼Œè‡ªåŠ¨ç¦ç”¨å¤±æ•ˆè´¦å·
# - æ— å¤´æ¨¡å¼åˆ‡æ¢ï¼šæœ‰æœ‰æ•ˆCookieæ—¶è‡ªåŠ¨åˆ‡æ¢ä¸ºæ— å¤´æ¨¡å¼è¿è¡Œ
